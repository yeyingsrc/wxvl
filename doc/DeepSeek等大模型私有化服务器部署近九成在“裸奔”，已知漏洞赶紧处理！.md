#  DeepSeek等大模型私有化服务器部署近九成在“裸奔”，已知漏洞赶紧处理！   
奇安信 CERT  乌雲安全   2025-03-03 02:35  
  
问题概述  
  
  
近期，随着国产大模型 DeepSeek 的迅速流行，越来越多的企业和个人选择将其进行私有化部署。然而，根据奇安信资产测绘鹰图平台的监测数据，在 8971 个运行 Ollama 大模型框架的服务器中，有 6449 个活跃服务器，其中 88.9% 的服务器未采取有效的安全防护措施，处于“裸奔”状态。这种状态导致任何人都可以在未经授权的情况下访问这些服务，从而引发数据泄露、服务中断、算力盗用甚至模型文件被删除等严重风险。  
  
  
相关组件和系统漏洞  
  
  
**1.Ollama工具的安全漏洞**  
  
Ollama 是一款用于私有化部署大模型的工具，支持 DeepSeek、Qwen、Llama、Mistral 等多种语言模型。  
  
默认未设置身份验证和访问控制功能，导致服务 API 接口（如http://XX.XX.XX.XX:11434）可在未经授权的情况下被调用。  
  
2024年11月，研究人员披露了 Ollama 框架中的六个安全漏洞，可能被利用执行拒绝服务攻击（DDoS）、模型污染和模型盗窃等恶意行为。  
  
  
**2.大模型服务器的安全风险**  
  
服务器未进行必要的安全配置，如未启用防火墙、未设置 IP 白名单、未对数据传输进行加密。  
  
已出现通过自动化脚本扫描“裸奔”状态的 DeepSeek 服务器，并恶意占用大量计算资源，导致部分用户服务器崩溃的事件。  
  
<table><tbody><tr><td data-colwidth="86" width="86" valign="middle" align="center" style="padding: 0pt 5.4pt;border-width: 1pt;border-color: rgb(165, 200, 255);"><p style="mso-pagination:widow-orphan;text-align:left;line-height:18.0000pt;"><strong style="text-align: left;font-size: 16px;" mpa-font-style="m7sfymck1zm7"><span style="font-family: 等线;letter-spacing: 0.4pt;"><strong style="-webkit-tap-highlight-color: transparent;outline: 0px;font-family: &#34;PingFang SC&#34;, system-ui, -apple-system, BlinkMacSystemFont, &#34;Helvetica Neue&#34;, &#34;Hiragino Sans GB&#34;, &#34;Microsoft YaHei UI&#34;, &#34;Microsoft YaHei&#34;, Arial, sans-serif;letter-spacing: 1px;background-color: rgb(255, 255, 255);visibility: visible;"><span style="letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;color: rgb(46, 116, 181);visibility: visible;"><span leaf="">漏洞名称</span></span></strong></span></strong><strong style="font-size: 16px;" mpa-font-style="m7sfymck1pg0"><span style="font-family: 等线;letter-spacing: 0.4pt;"><o:p></o:p></span></strong></p></td><td data-colwidth="56" width="56" valign="middle" align="center" style="padding: 0pt 5.4pt;border-width: 1pt;border-color: rgb(165, 200, 255);"><p style="line-height:18.0000pt;"><strong style="text-align: left;font-size: 16px;" mpa-font-style="m7sfymck23ew"><span style="font-family: 等线;letter-spacing: 0.4pt;"><strong style="-webkit-tap-highlight-color: transparent;outline: 0px;font-family: &#34;PingFang SC&#34;, system-ui, -apple-system, BlinkMacSystemFont, &#34;Helvetica Neue&#34;, &#34;Hiragino Sans GB&#34;, &#34;Microsoft YaHei UI&#34;, &#34;Microsoft YaHei&#34;, Arial, sans-serif;letter-spacing: 1px;background-color: rgb(255, 255, 255);visibility: visible;"><span style="letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;color: rgb(46, 116, 181);visibility: visible;"><span leaf="">风险等级</span></span></strong></span></strong><strong style="font-size: 16px;" mpa-font-style="m7sfymckelb"><span style="font-family: 等线;letter-spacing: 0.4pt;"><o:p></o:p></span></strong></p></td><td data-colwidth="435" width="435" valign="middle" align="center" style="padding: 0pt 5.4pt;border-width: 1pt;border-color: rgb(165, 200, 255);"><p style="line-height:18.0000pt;"><strong style="text-align: left;font-size: 16px;" mpa-font-style="m7sfymck108m"><span style="font-family: 等线;letter-spacing: 0.4pt;"><strong style="-webkit-tap-highlight-color: transparent;outline: 0px;font-family: &#34;PingFang SC&#34;, system-ui, -apple-system, BlinkMacSystemFont, &#34;Helvetica Neue&#34;, &#34;Hiragino Sans GB&#34;, &#34;Microsoft YaHei UI&#34;, &#34;Microsoft YaHei&#34;, Arial, sans-serif;letter-spacing: 1px;background-color: rgb(255, 255, 255);visibility: visible;"><span style="letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;color: rgb(46, 116, 181);visibility: visible;"><span leaf="">漏洞概述</span></span></strong></span></strong><strong style="font-size: 16px;" mpa-font-style="m7sfymck192b"><span style="font-family: 等线;letter-spacing: 0.4pt;"><o:p></o:p></span></strong></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymck1g0e"><span style="color: rgb(0, 0, 0);font-family: 宋体;letter-spacing: 0.533333px;text-align: left;background-color: rgb(255, 255, 255);"><span leaf="">Ollama </span></span><span leaf="">未授权访问风险</span></span><span style="font-size: 16px;font-family: 等线;letter-spacing: 0.2pt;" mpa-font-style="m7sfymckk6x"><o:p></o:p></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcksmq"><span leaf="">中风险</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymck23c6"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymck1x4d"><span leaf="">Ollama 默认未设置身份验证和访问控制功能，其服务 API 接口（如http://XX.XX.XX.XX:11434）可在未授权情况下被调用，攻击者可远程访问该接口，窃取知识库、投喂虚假信息或滥用模型推理资源。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymck3j3"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymck1pgi"><span style="color: rgb(0, 0, 0);font-family: 宋体;letter-spacing: 0.533333px;text-align: left;background-color: rgb(255, 255, 255);"><span leaf="">Ollama </span></span><span leaf="">模型管理接口</span><span style="color: rgb(0, 0, 0);font-family: 宋体;letter-spacing: 0.533333px;text-align: left;background-color: rgb(255, 255, 255);"><span leaf="">风险</span></span></span><span style="font-size: 16px;" mpa-font-style="m7sfymck1ad2"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymck1nyc"><span leaf="">中风险</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymck1bqv"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl19m4"><span leaf="">攻击者可通过未授权访问 Ollama 的模型管理接口，读取、下载或删除私有模型文件。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcl1l98"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymclozc"><span style="color: rgb(0, 0, 0);font-family: 宋体;letter-spacing: 0.533333px;text-align: left;background-color: rgb(255, 255, 255);"><span leaf="">Ollama </span></span><span leaf="">模型推理接口</span><span style="color: rgb(0, 0, 0);font-family: 宋体;letter-spacing: 0.533333px;text-align: left;background-color: rgb(255, 255, 255);"><span leaf="">风险</span></span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcl1dno"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl1pmo"><span leaf="">中风险</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymclcbz"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl24f5"><span leaf="">攻击者可利用未授权访问的模型推理接口，执行任意 Prompt 指令，滥用模型推理资源。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymclbhp"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl7mz"><span style="color: rgb(0, 0, 0);font-family: 宋体;letter-spacing: 0.533333px;text-align: left;background-color: rgb(255, 255, 255);"><span leaf="">Ollama </span></span><span leaf="">系统配置接口</span><span style="color: rgb(0, 0, 0);font-family: 宋体;letter-spacing: 0.533333px;text-align: left;background-color: rgb(255, 255, 255);"><span leaf="">风险</span></span></span><span style="font-size: 16px;" mpa-font-style="m7sfymclg1w"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl1ml2"><span leaf="">中风险</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymclw1b"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcllmx"><span leaf="">攻击者可能通过未授权访问篡改 Ollama 服务参数，影响系统配置。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymclq78"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl21q2"><span leaf="">Ollama 远程代码执行漏洞(CVE-2024-37032)</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcl1qz4"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl12i0"><span leaf="">高危（CVSS评分9.1）</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcl10xs"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;" mpa-font-style="m7sfymcl2x4"><strong style="text-align: left;"></strong></span><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl1u6p"><span leaf="">在 Ollama 0.1.34 之前的版本中存在远程代码执行漏洞，攻击者无需身份验证即可通过接口操控服务器，实现任意代码执行。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymclw5x"><span style="font-family: 等线;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl1nho"><span leaf="">Ollama 路径遍历漏洞(CVE-2024-45436)</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcl1rqb"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcl1cf2"><span leaf="">高危（CVSS评分9.1）</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcl17c8"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcmsml"><span leaf="">在 Ollama 0.1.47 之前的版本中，extractFromZipFile函数在处理ZIP文件解压时，未能正确限制文件路径，导致攻击者可以通过特制的ZIP文件将文件解压到父目录之外。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcm7bw"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcmfi7"><span leaf="">Ollama 信息泄露漏洞(CVE-2024-39722)</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcmllh"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm1at2"><span leaf="">高危（CVSS评分7.5）</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcmcmi"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm199r"><span leaf="">在 Ollama 0.1.46 之前的版本中发现了一个漏洞。它通过 api/push 路由中的路径遍历，攻击者可以通过发送包含不存在的文件路径参数的恶意请求，利用该漏洞确定服务器上文件的存在性。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcm1qt"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm20z"><span leaf="">Ollama 信息泄露漏洞(CVE-2024-39719)</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcm7xi"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm1b52"><span leaf="">高危（CVSS评分7.5）</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcm20i2"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm1o2r"><span leaf="">Ollama 0.3.14 及之前版本存在信息泄露漏洞，该漏洞源于/api/create端点对路径参数处理不当。攻击者可以通过发送包含不存在的文件路径参数的恶意请求，利用该漏洞确定服务器上文件的存在性，从而可能泄露敏感信息。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcm1oqs"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm1a0q"><span leaf="">Ollama DNS 重绑定漏洞(CVE-2024-28224)</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcmk0b"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm21l"><span leaf="">高危（CVSS评分8.8）</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcmiyq"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcmihs"><span leaf="">Ollama 在 0.1.29 版本之前存在一个 DNS 重绑定漏洞，可能允许远程访问完整 API，从而让未经授权的用户与大型语言模型聊天、删除模型或导致拒绝服务（资源耗尽）。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcm8s2"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm9nq"><span leaf="">Ollama 拒绝服务漏洞(CVE-2024-39721)</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcm1syz"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm1mob"><span leaf="">高危（CVSS评分7.5）</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcm80l"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcm1s8h"><span style="color: rgb(0, 0, 0);font-family: 宋体;letter-spacing: 0.533333px;text-align: left;background-color: rgb(255, 255, 255);"></span><span style="color: rgb(0, 0, 0);font-family: 宋体;letter-spacing: 0.533333px;text-align: left;background-color: rgb(255, 255, 255);"><span leaf="">Ollama 在 0.1.34 版本之前存在一个拒绝服务漏洞，</span></span><span leaf="">该漏洞存在于Ollama的/api/create端点中，CreateModelHandler函数未对用户控制的req.Path参数进行适当验证。攻击者可以通过向该端点发送包含特殊文件路径（如/dev/random）的POST请求，使程序进入无限循环，耗尽系统资源，最终导致拒绝服务。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcmgaa"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr><tr><td data-colwidth="86" width="86" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcn1fwa"><span leaf="">Ollama 拒绝服务漏洞(CVE-2024-39720)</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcnsyn"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="56" width="56" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcn1s9m"><span leaf="">高危（CVSS评分8.2）</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcn1uxx"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td><td data-colwidth="435" width="435" valign="center" style="padding: 0pt 5.4pt;border-left-width: 1pt;border-color: rgb(165, 200, 255);border-right-width: 1pt;border-top-width: initial;border-top-style: none;border-bottom-width: 1pt;"><p style="line-height:18.0000pt;"><span style="font-size: 16px;color: rgb(0, 0, 0);letter-spacing: 0.4pt;-webkit-tap-highlight-color: transparent;outline: 0px;line-height: 22.5px;font-family: 宋体;visibility: visible;" mpa-font-style="m7sfymcnbhr"><span leaf="">在 Ollama 0.1.46 之前的版本中发现了一个漏洞。攻击者可以利用两个 HTTP 请求上传一个仅包含以 GGUF 自定义魔术头开始的 4 个字节的畸形 GGUF 文件。通过利用一个包含指向攻击者控制的 blob 文件的 FROM 语句的自定义 Modelfile，攻击者可以通过 CreateModel 路由使应用程序崩溃，导致段错误。</span></span><span style="font-size: 16px;" mpa-font-style="m7sfymcn11b2"><span style="font-family: inherit;letter-spacing: 0.2pt;"><o:p></o:p></span></span></p></td></tr></tbody></table>  
  
风险提示  
  
  
多家政企单位发出风险提示，指出使用 Ollama 工具部署 DeepSeek 等大模型时，存在以下安全隐患：  
  
1.未经授权的访问和调用。  
  
2.数据泄露和服务中断。  
  
3.模型文件被删除，导致系统不可用。  
  
4.算力被非法占用，用于加密货币挖矿或 DDoS 攻击。  
  
  
防范建议  
  
****  
**1.配置访问控制**  
  
若 Ollama 仅对本地提供服务，建议设置环境变量 Environment="OLLAMA_HOST=127.0.0.1"，限制为仅本地访问。  
  
若需要对外提供服务，可通过修改 config.yaml 或 settings.json 配置文件限定可调用 Ollama 服务的 IP 地址，或在防火墙等设备上部署 IP 白名单。  
  
**2.加强身份认证**  
  
立即修改 Ollama 配置，增加身份认证机制。  
  
**3.数据加密**  
  
对所有传输的数据进行加密，避免敏感信息泄露。  
  
**4.部署安全产品**  
  
使用专业安全工具（如奇安信大模型卫士）防范越狱攻击、提示词注入等风险。  
  
**5.定期检查与维护**  
  
定期检查服务器的安全状态，关闭不必要的端口，限制计算资源的使用，并加强监控。  
  
**6.升级安全防护手段**  
  
针对大模型特有的安全风险，如提示注入攻击、信息内容安全风险、数据隐私泄漏等，升级安全防护手段。  
> 转载于公众号：奇安信 CERT  
  
  
  
扫码加入免费的网安攻防知识库  
  
  
![](https://mmbiz.qpic.cn/mmbiz_jpg/bMyibjv83iavxcbRicWicY450N0UXeQ3iaOvksRG6Ry3EkJuHicBzvmc8ibic4XEFhFJYRib27icoVTE8NY3zTs2uSZ8icBUQ/640?wx_fmt=jpeg&from=appmsg "")  
  
  
  
  
